@model TestAndLearn.Web.Models.TestFormModel

<div class="modal fade new-test-modal" id="save-test-modal" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Save Test</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" id="save-test-form" action="@Url.Action("SaveTest", "api/TestApi")" method="POST">
                    <input type="hidden" name="ClientId" value="@Model.ClientId" />
                    
                    <div class="form-group">
                        <label for="input-test-name" class="col-sm-4 control-label">Test Name</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="input-test-name" name="Name" placeholder="Test Name" />
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="input-test-type" class="col-sm-4 control-label">Test Type</label>
                        <div class="col-sm-8">
                            @foreach (var testType in Model.TestTypes)
                            {
                                <div class="checkbox">
                                    <label>
                                        <input type="checkbox" value="@testType.TestTypeId" name="TestTypes[].TestTypeId">
                                        @testType.Name
                                    </label>
                                </div>
                            }
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="input-test-succcess-metrics" class="col-sm-4 control-label">Success Metric(s)</label>
                        <div class="col-sm-8">
                            @foreach (var successMetric in Model.SuccessMetrics)
                            {
                                <div class="checkbox">
                                    <label>
                                        <input type="checkbox" value="@successMetric.SuccessMetricId" name="SuccessMetrics[].SuccessMetricId">
                                        @successMetric.Name
                                    </label>
                                </div>
                            }                      
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="input-test-hypothesis" class="col-sm-4 control-label">Hypothesis</label>
                        <div class="col-sm-8">
                            <textarea class="form-control" id="input-test-hypothesis" name="Hypothesis" placeholder="Hypothesis"></textarea>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="input-test-notes" class="col-sm-4 control-label">Additional Notes</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="input-test-notes" name="AdditionalNotes" placeholder="Additional Notes" />
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="input-test-notes" class="col-sm-4 control-label">Submitted By</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="input-test-suggested-submitter" name="SubmittedBy" value="@Model.SuggesstedSubmitter" />
                        </div>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save</button>
                    </div>
                </form>
            </div>
            
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
